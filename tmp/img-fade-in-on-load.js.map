{"version":3,"sources":["../client/js/img-fade-in-on-load.js"],"names":[],"mappings":";;;AACA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAC7B,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE1B,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,iBAAe,EAAE,2BAAY;AAC3B,WAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;GAC1C;AACD,WAAS,EAAE,mBAAU,GAAG,EAAE;AACxB,QAAI,CAAC,IAAI,CAAC,cAAc,EAAE;AACxB,UAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,UAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,SAAG,CAAC,MAAM,GAAG,CAAA,YAAW;AACtB,YAAI,CAAC,QAAQ,CAAC,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAA;OAC9B,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACb,SAAG,CAAC,GAAG,GAAG,GAAG,CAAC;KACf;GACF;AACD,QAAM,EAAE,kBAAY;AAClB,QAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC/B,QAAI,YAAY,GAAG;AACjB,WAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK;AACvB,YAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM;AACzB,qBAAe,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe;AAC3C,aAAO,EAAE,GAAG;AACZ,gBAAU,EAAE,eAAe;AAC3B,cAAQ,EAAE,UAAU;AACpB,SAAG,EAAE,GAAG;AACR,UAAI,EAAE,GAAG;KACV,CAAC;AACF,QAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;AACrB,kBAAY,CAAC,OAAO,GAAG,CAAC,CAAC;KAC1B;AACD,QAAI,QAAQ,GAAG;AACb,cAAQ,EAAE,UAAU;AACpB,SAAG,EAAE,GAAG;AACR,UAAI,EAAE,GAAG;AACT,WAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK;AACvB,YAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM;KAC1B,CAAA;;AAED,QAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;AACvB,kBAAY,CAAC,YAAY,GAAG,KAAK,CAAC;AAClC,kBAAY,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACjC,cAAQ,CAAC,YAAY,GAAG,KAAK,CAAC;AAC9B,cAAQ,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC9B;AACD,WACE;;QAAK,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAC,AAAC;MAC/B,IAAI,CAAC,KAAK,CAAC,MAAM,GACjB,6BAAK,GAAG,EAAK,IAAI,CAAC,KAAK,CAAC,GAAG,AAAE,EAAC,KAAK,EAAK,QAAQ,AAAE,GAAG,GACnD,IAAI;MACR,6BAAK,KAAK,EAAE,YAAY,AAAC,GAAG;KACxB,CACP;GACF;CACF,CAAC,CAAC","file":"img-fade-in-on-load.js","sourcesContent":["// Require react, convenience libraries and UI components\nvar React = require('react');\nvar m = require('./m.js');\n\nmodule.exports = React.createClass({\n  getInitialState: function () {\n    return { loading: false, loaded: false };\n  },\n  loadImage: function (src) {\n    if (!this.loadingStarted) {\n      this.loadingStarted = true;\n      var img = new Image();\n      img.onload = function() {\n        this.setState({loaded: true})\n      }.bind(this);\n      img.src = src;\n    }\n  },\n  render: function () {\n    this.loadImage(this.props.src);\n    var overlayStyle = {\n      width: this.props.width,\n      height: this.props.height,\n      backgroundColor: this.props.backgroundColor,\n      opacity: '1',\n      transition: 'opacity 300ms',\n      position: 'absolute',\n      top: '0',\n      left: '0'\n    };\n    if (this.state.loaded) {\n      overlayStyle.opacity = 0;\n    }\n    var imgStyle = {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      width: this.props.width,\n      height: this.props.height\n    }\n    // To account for the clipping bug filed against Doug in Chrome\n    if (this.props.circular) {\n      overlayStyle.borderRadius = '50%';\n      overlayStyle.overflow = 'hidden';\n      imgStyle.borderRadius = '50%';\n      imgStyle.overflow = 'hidden';\n    }\n    return (\n      <div style={{position: 'relative'}}>\n        { this.state.loaded ? (\n          <img src = { this.props.src } style = { imgStyle } />\n        ) : null }\n        <div style={overlayStyle} />\n      </div>\n    )\n  }\n});\n"]}