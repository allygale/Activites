{"version":3,"sources":["../client/js/facebook-login.js"],"names":[],"mappings":";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;;AAE7B,IAAI,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAEpC,QAAM,EAAE,kBAAW;;;;AAEjB,QAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAC,KAAK,EAAK;AAChE,aAAO,KAAK,CAAC,YAAY,CAAC,KAAK,EAAE,EAAC,YAAY,EAAE,MAAK,KAAK,CAAC,YAAY,EAAC,CAAC,CAAC;KAC3E,CAAC,CAAC;AACH,WACE;;QAAK,OAAO,EAAG,IAAI,CAAC,WAAW,AAAE;MAC7B,QAAQ;MACV,6BAAK,EAAE,EAAC,SAAS,GAAO;KACpB,CACP;GACF;;AAED,iBAAe,EAAE,2BAAW;AAC1B,WAAO;AACL,kBAAY,EAAE,KAAK;AACnB,gBAAU,EAAE,SAAS;KACtB,CAAA;GACF;;AAED,mBAAiB,EAAE,6BAAW;;AAE5B,UAAM,CAAC,WAAW,GAAG,CAAA,YAAW;AAC9B,QAAE,CAAC,IAAI,CAAC;AACN,aAAK,EAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;AACnC,aAAK,EAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK;AACtC,eAAO,EAAM,MAAM;OACpB,CAAC,CAAC;;AAEH,UAAK,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAG;;AAEzB,UAAE,CAAC,cAAc,CAAC,CAAA,UAAS,QAAQ,EAAE;AACnC,cAAI,CAAC,QAAQ,CAAC,EAAC,YAAY,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAC,CAAC,CAAC;;SAE3D,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;OAEf;KAEF,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;;AAGb,AAAC,KAAA,UAAS,CAAC,EAAE,CAAC,EAAE,EAAE,EAAC;AAClB,UAAI,EAAE;UAAE,GAAG,GAAG,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3C,UAAI,CAAC,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE;AAAC,eAAO;OAAC;AACnC,QAAE,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,AAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC;AACpC,QAAE,CAAC,GAAG,GAAG,qCAAqC,CAAC;AAC/C,SAAG,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;KACtC,CAAA,CAAC,QAAQ,EAAE,QAAQ,EAAE,gBAAgB,CAAC,CAAE;GACzC;;AAED,iBAAe,EAAE,yBAAS,QAAQ,EAAE;AAClC,QAAI,QAAQ,CAAC,YAAY,EAAE;;AAEzB,UAAI,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;KAEhD,MAAM;;AAEL,UAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,sCAAsC,CAAC;;AAE5E,QAAE,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,CAAC,CAAC;;;;;;KAOvD;GACF;;AAED,aAAW,EAAE,uBAAW;AACtB,QAAI,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;AACzB,UAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;KAC7C;GACF;CACF,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,GAAG,aAAa,CAAC","file":"facebook-login.js","sourcesContent":["var React = require('react');\n\nvar FacebookLogin = React.createClass({\n\n  render: function() {\n    // Clone the children so we can set props on them indicating the state of the login process\n    var children = React.Children.map(this.props.children, (child) => {\n      return React.cloneElement(child, {readyToLogin: this.state.readyToLogin});\n    });\n    return (\n      <div onClick={ this.handleClick }>\n        { children }\n        <div id=\"fb-root\"></div>\n      </div>\n    )\n  },\n\n  getInitialState: function() {\n    return {\n      readyToLogin: false,\n      fbResponse: undefined\n    }\n  },\n\n  componentDidMount: function() {\n\n    window.fbAsyncInit = function() {\n      FB.init({\n        appId      : this.props.appId || '',\n        xfbml      : this.props.xfbml || false,\n        version    : 'v2.3'\n      });\n\n      if ( this.props.autoLoad ) {\n\n        FB.getLoginStatus(function(response) {\n          this.setState({readyToLogin: true, fbResponse: response});\n          // TODO: Enable UI here\n        }.bind(this));\n\n      }\n\n    }.bind(this);\n\n    // Load the SDK asynchronously\n    (function(d, s, id){\n     var js, fjs = d.getElementsByTagName(s)[0];\n     if (d.getElementById(id)) {return;}\n     js = d.createElement(s); js.id = id;\n     js.src = \"//connect.facebook.net/en_US/sdk.js\";\n     fjs.parentNode.insertBefore(js, fjs);\n   }(document, 'script', 'facebook-jssdk'));\n  },\n\n  checkLoginState: function(response) {\n    if (response.authResponse) {\n\n      this.props.loginHandler(response.authResponse);\n\n    } else {\n\n      var valueScope = this.props.scope || 'public_profile, email, user_birthday';\n      // TODO: Don't allow this to recurse\n      FB.login(this.checkLoginState, { scope: valueScope });\n\n      // If we failed trying to log in automatically, let the user take an action\n      // if ( this.props.loginHandler ) {\n      //   this.props.loginHandler( { status: response.status } );\n      // }\n\n    }\n  },\n\n  handleClick: function() {\n    if (this.state.fbResponse) {\n      this.checkLoginState(this.state.fbResponse);\n    }\n  }\n});\n\nmodule.exports = FacebookLogin;\n"]}